<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD System - Tailwind Example</title>
    <link rel="stylesheet" href="../dist/output.css?v=5">
</head>
<body style="margin: 0; padding: 0; font-family: system-ui, -apple-system, sans-serif; background: #f8f9fa;">
    
    <!-- Top Navigation Bar -->
    <nav style="background: #563d7c; color: white; padding: 0.75rem 2rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div style="display: flex; align-items: center; gap: 2rem;">
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <svg style="width: 30px; height: 30px; fill: white;" viewBox="0 0 24 24"><path d="M12,2L2,7L12,12L22,7L12,2M2,17L12,22L22,17V10L12,15L2,10V17Z"/></svg>
                    <span style="font-weight: 700; font-size: 1.25rem;">Tailwind CRUD</span>
                </div>
            </div>
            <a href="examples.html" style="color: white; text-decoration: none; font-size: 14px;">← Back to Examples</a>
        </div>
    </nav>

    <!-- Main Content -->
    <div style="padding: 2rem; max-width: 1400px; margin: 0 auto;">
        
        <!-- Header -->
        <div style="background: white; border-radius: 12px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                <div>
                    <h1 style="font-size: 2rem; font-weight: 700; color: #212529; margin: 0 0 0.5rem 0;">User Management</h1>
                    <p style="color: #6c757d; margin: 0;">Manage your users with full CRUD operations</p>
                </div>
                <button onclick="openAddModal()" style="background: #563d7c; color: white; padding: 0.75rem 1.5rem; border-radius: 6px; border: none; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 0.5rem; transition: background 0.2s;" onmouseover="this.style.background='#452f63'" onmouseout="this.style.background='#563d7c'">
                    <svg style="width: 20px; height: 20px; fill: white;" viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"/></svg>
                    Add New User
                </button>
            </div>
        </div>

        <!-- Stats Cards -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div style="background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05); border-left: 4px solid #10b981;">
                <div style="display: flex; justify-content: space-between; align-items: start;">
                    <div>
                        <p style="color: #6c757d; font-size: 0.875rem; margin: 0 0 0.5rem 0;">Total Users</p>
                        <h3 id="totalUsers" style="font-size: 2rem; font-weight: 700; color: #212529; margin: 0;">5</h3>
                    </div>
                    <div style="background: #d1fae5; padding: 0.75rem; border-radius: 8px;">
                        <svg style="width: 24px; height: 24px; fill: #10b981;" viewBox="0 0 24 24"><path d="M16,17V19H2V17S2,13 9,13 16,17 16,17M12.5,7.5A3.5,3.5 0 0,1 9,11A3.5,3.5 0 0,1 5.5,7.5A3.5,3.5 0 0,1 9,4A3.5,3.5 0 0,1 12.5,7.5M15.94,13A5.32,5.32 0 0,1 18,17V19H22V17S22,13.37 15.94,13M15,4A3.39,3.39 0 0,0 13.07,4.59A5,5 0 0,1 13.07,10.41A3.39,3.39 0 0,0 15,11A3.5,3.5 0 0,0 18.5,7.5A3.5,3.5 0 0,0 15,4Z"/></svg>
                    </div>
                </div>
            </div>
            
            <div style="background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05); border-left: 4px solid #3b82f6;">
                <div style="display: flex; justify-content: space-between; align-items: start;">
                    <div>
                        <p style="color: #6c757d; font-size: 0.875rem; margin: 0 0 0.5rem 0;">Active Users</p>
                        <h3 id="activeUsers" style="font-size: 2rem; font-weight: 700; color: #212529; margin: 0;">4</h3>
                    </div>
                    <div style="background: #dbeafe; padding: 0.75rem; border-radius: 8px;">
                        <svg style="width: 24px; height: 24px; fill: #3b82f6;" viewBox="0 0 24 24"><path d="M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z"/></svg>
                    </div>
                </div>
            </div>
            
            <div style="background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05); border-left: 4px solid #f59e0b;">
                <div style="display: flex; justify-content: space-between; align-items: start;">
                    <div>
                        <p style="color: #6c757d; font-size: 0.875rem; margin: 0 0 0.5rem 0;">Admins</p>
                        <h3 id="adminUsers" style="font-size: 2rem; font-weight: 700; color: #212529; margin: 0;">2</h3>
                    </div>
                    <div style="background: #fef3c7; padding: 0.75rem; border-radius: 8px;">
                        <svg style="width: 24px; height: 24px; fill: #f59e0b;" viewBox="0 0 24 24"><path d="M12,1L8,5H11V14H13V5H16M18,23H6C4.89,23 4,22.1 4,21V9A2,2 0 0,1 6,7H9V9H6V21H18V9H15V7H18A2,2 0 0,1 20,9V21A2,2 0 0,1 18,23Z"/></svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Table -->
        <div style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
            
            <!-- Search and Filter -->
            <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
                <input type="text" id="searchInput" placeholder="Search by name, email, or role..." style="flex: 1; min-width: 250px; padding: 0.75rem 1rem; border: 1px solid #dee2e6; border-radius: 6px; font-size: 0.875rem;" onkeyup="filterTable()">
                <select id="roleFilter" style="padding: 0.75rem 1rem; border: 1px solid #dee2e6; border-radius: 6px; font-size: 0.875rem; cursor: pointer;" onchange="filterTable()">
                    <option value="">All Roles</option>
                    <option value="Admin">Admin</option>
                    <option value="User">User</option>
                    <option value="Editor">Editor</option>
                </select>
            </div>

            <!-- Table -->
            <div style="overflow-x: auto;">
                <table id="userTable" style="width: 100%; border-collapse: collapse;">
                    <thead style="background: #f8f9fa; border-bottom: 2px solid #dee2e6;">
                        <tr>
                            <th style="padding: 1rem; text-align: left; font-weight: 600; color: #495057; font-size: 0.875rem;">ID</th>
                            <th style="padding: 1rem; text-align: left; font-weight: 600; color: #495057; font-size: 0.875rem;">NAME</th>
                            <th style="padding: 1rem; text-align: left; font-weight: 600; color: #495057; font-size: 0.875rem;">EMAIL</th>
                            <th style="padding: 1rem; text-align: left; font-weight: 600; color: #495057; font-size: 0.875rem;">ROLE</th>
                            <th style="padding: 1rem; text-align: left; font-weight: 600; color: #495057; font-size: 0.875rem;">STATUS</th>
                            <th style="padding: 1rem; text-align: center; font-weight: 600; color: #495057; font-size: 0.875rem;">ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Data will be inserted here by JavaScript -->
                    </tbody>
                </table>
            </div>

            <div id="noResults" style="display: none; text-align: center; padding: 3rem; color: #6c757d;">
                <svg style="width: 64px; height: 64px; fill: #dee2e6; margin: 0 auto 1rem;" viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M11,7H13V13H11V7M11,15H13V17H11V15Z"/></svg>
                <p style="font-size: 1.125rem; margin: 0;">No users found</p>
            </div>

        </div>

    </div>

    <!-- Add/Edit Modal -->
    <div id="userModal" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; padding: 1rem;">
        <div style="background: white; border-radius: 12px; max-width: 500px; width: 100%; box-shadow: 0 20px 25px rgba(0,0,0,0.2); max-height: 90vh; overflow-y: auto;">
            <div style="background: #563d7c; color: white; padding: 1.5rem; display: flex; justify-content: space-between; align-items: center;">
                <h2 id="modalTitle" style="font-size: 1.5rem; font-weight: 600; margin: 0;">Add New User</h2>
                <button onclick="closeModal()" style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; line-height: 1; padding: 0;">×</button>
            </div>
            <form id="userForm" style="padding: 2rem;">
                <input type="hidden" id="userId">
                
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; font-weight: 600; color: #495057; margin-bottom: 0.5rem; font-size: 0.875rem;">Name</label>
                    <input type="text" id="userName" required style="width: 100%; padding: 0.75rem 1rem; border: 1px solid #dee2e6; border-radius: 6px; font-size: 0.875rem;">
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; font-weight: 600; color: #495057; margin-bottom: 0.5rem; font-size: 0.875rem;">Email</label>
                    <input type="email" id="userEmail" required style="width: 100%; padding: 0.75rem 1rem; border: 1px solid #dee2e6; border-radius: 6px; font-size: 0.875rem;">
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; font-weight: 600; color: #495057; margin-bottom: 0.5rem; font-size: 0.875rem;">Role</label>
                    <select id="userRole" required style="width: 100%; padding: 0.75rem 1rem; border: 1px solid #dee2e6; border-radius: 6px; font-size: 0.875rem; cursor: pointer;">
                        <option value="User">User</option>
                        <option value="Admin">Admin</option>
                        <option value="Editor">Editor</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; font-weight: 600; color: #495057; margin-bottom: 0.5rem; font-size: 0.875rem;">Status</label>
                    <select id="userStatus" required style="width: 100%; padding: 0.75rem 1rem; border: 1px solid #dee2e6; border-radius: 6px; font-size: 0.875rem; cursor: pointer;">
                        <option value="Active">Active</option>
                        <option value="Inactive">Inactive</option>
                    </select>
                </div>
                
                <div style="display: flex; gap: 0.75rem; justify-content: flex-end;">
                    <button type="button" onclick="closeModal()" style="padding: 0.75rem 1.5rem; border: 1px solid #dee2e6; border-radius: 6px; background: white; color: #495057; cursor: pointer; font-weight: 600;">Cancel</button>
                    <button type="submit" style="padding: 0.75rem 1.5rem; border: none; border-radius: 6px; background: #563d7c; color: white; cursor: pointer; font-weight: 600;">Save User</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample data
        let users = [
            { id: 1, name: 'John Doe', email: 'john@example.com', role: 'Admin', status: 'Active' },
            { id: 2, name: 'Jane Smith', email: 'jane@example.com', role: 'User', status: 'Active' },
            { id: 3, name: 'Bob Johnson', email: 'bob@example.com', role: 'Editor', status: 'Active' },
            { id: 4, name: 'Alice Brown', email: 'alice@example.com', role: 'User', status: 'Active' },
            { id: 5, name: 'Charlie Wilson', email: 'charlie@example.com', role: 'Admin', status: 'Inactive' }
        ];

        let nextId = 6;
        let editingId = null;

        // Initialize
        renderTable();
        updateStats();

        // Render table
        function renderTable(filteredUsers = null) {
            const tbody = document.getElementById('tableBody');
            const dataToRender = filteredUsers || users;
            
            if (dataToRender.length === 0) {
                tbody.innerHTML = '';
                document.getElementById('noResults').style.display = 'block';
                return;
            }
            
            document.getElementById('noResults').style.display = 'none';
            
            tbody.innerHTML = dataToRender.map(user => `
                <tr style="border-bottom: 1px solid #f1f3f5;">
                    <td style="padding: 1rem; color: #495057;">${user.id}</td>
                    <td style="padding: 1rem; color: #212529; font-weight: 500;">${user.name}</td>
                    <td style="padding: 1rem; color: #495057;">${user.email}</td>
                    <td style="padding: 1rem;">
                        <span style="background: ${getRoleBg(user.role)}; color: white; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600;">${user.role}</span>
                    </td>
                    <td style="padding: 1rem;">
                        <span style="background: ${user.status === 'Active' ? '#d1fae5' : '#fee2e2'}; color: ${user.status === 'Active' ? '#065f46' : '#991b1b'}; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600;">${user.status}</span>
                    </td>
                    <td style="padding: 1rem; text-align: center;">
                        <button onclick="editUser(${user.id})" style="background: #3b82f6; color: white; padding: 0.5rem 1rem; border-radius: 4px; border: none; cursor: pointer; margin-right: 0.5rem; font-size: 0.75rem; font-weight: 600;">Edit</button>
                        <button onclick="deleteUser(${user.id})" style="background: #ef4444; color: white; padding: 0.5rem 1rem; border-radius: 4px; border: none; cursor: pointer; font-size: 0.75rem; font-weight: 600;">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        function getRoleBg(role) {
            const colors = {
                'Admin': '#10b981',
                'User': '#3b82f6',
                'Editor': '#f59e0b'
            };
            return colors[role] || '#6c757d';
        }

        // Filter table
        function filterTable() {
            const searchValue = document.getElementById('searchInput').value.toLowerCase();
            const roleValue = document.getElementById('roleFilter').value;
            
            const filtered = users.filter(user => {
                const matchesSearch = user.name.toLowerCase().includes(searchValue) || 
                                     user.email.toLowerCase().includes(searchValue) ||
                                     user.role.toLowerCase().includes(searchValue);
                const matchesRole = !roleValue || user.role === roleValue;
                return matchesSearch && matchesRole;
            });
            
            renderTable(filtered);
        }

        // Update stats
        function updateStats() {
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('activeUsers').textContent = users.filter(u => u.status === 'Active').length;
            document.getElementById('adminUsers').textContent = users.filter(u => u.role === 'Admin').length;
        }

        // Open add modal
        function openAddModal() {
            editingId = null;
            document.getElementById('modalTitle').textContent = 'Add New User';
            document.getElementById('userForm').reset();
            document.getElementById('userId').value = '';
            document.getElementById('userModal').style.display = 'flex';
        }

        // Edit user
        function editUser(id) {
            editingId = id;
            const user = users.find(u => u.id === id);
            if (user) {
                document.getElementById('modalTitle').textContent = 'Edit User';
                document.getElementById('userId').value = user.id;
                document.getElementById('userName').value = user.name;
                document.getElementById('userEmail').value = user.email;
                document.getElementById('userRole').value = user.role;
                document.getElementById('userStatus').value = user.status;
                document.getElementById('userModal').style.display = 'flex';
            }
        }

        // Close modal
        function closeModal() {
            document.getElementById('userModal').style.display = 'none';
            document.getElementById('userForm').reset();
            editingId = null;
        }

        // Form submit
        document.getElementById('userForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const userData = {
                name: document.getElementById('userName').value,
                email: document.getElementById('userEmail').value,
                role: document.getElementById('userRole').value,
                status: document.getElementById('userStatus').value
            };
            
            if (editingId) {
                // Update existing user
                const index = users.findIndex(u => u.id === editingId);
                if (index !== -1) {
                    users[index] = { ...users[index], ...userData };
                }
            } else {
                // Add new user
                users.push({ id: nextId++, ...userData });
            }
            
            renderTable();
            updateStats();
            closeModal();
        });

        // Delete user
        function deleteUser(id) {
            if (confirm('Are you sure you want to delete this user?')) {
                users = users.filter(u => u.id !== id);
                renderTable();
                updateStats();
                filterTable(); // Reapply filters if any
            }
        }

        // Close modal when clicking outside
        document.getElementById('userModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>

</body>
</html>
